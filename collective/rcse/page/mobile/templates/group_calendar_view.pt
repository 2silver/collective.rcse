<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
      xmlns:tal="http://xml.zope.org/namespaces/tal"
      xmlns:metal="http://xml.zope.org/namespaces/metal"
      xmlns:i18n="http://xml.zope.org/namespaces/i18n"
      lang="en"
      metal:use-macro="here/main_template/macros/master"
      i18n:domain="collective.rcse">
<body>
<div metal:fill-slot="content-core">

<!-- example, to be placed in a css file -->
<style>
  @media (min-width: 40em) {
    #event-table td,
    #event-table th,
    #event-table tbody th,
    #event-table tbody td,
    #event-table thead td,
    #event-table thead th {
      display: table-cell;
      margin: 0;
    }
    #event-table th .ui-table-cell-label,
    #event-table td .ui-table-cell-label {
      display: none;
    }
  }
</style>

<div>
  <a tal:attributes="href view/prev_month" i18n:translate="">Previous</a>
  <span i18n:translate="" tal:content="view/month_name">Month</span>
  <span tal:content="view/year">Year</span>
  <a tal:attributes="href view/next_month" i18n:translate="">Next</a>
</div>
<table data-role="table" id="event-table">
  <thead>
    <tr>
      <td tal:repeat="weekday view/weekdays" tal:content="weekday" i18n:translate=""></td>
    </tr>
  </thead>
  <tbody>
    <tr tal:repeat="week view/caldata">
      <td tal:repeat="day week"
	  tal:attributes="class python:'event' +
			  (day['prev_month'] and ' prev-month' or '') +
			  (day['next_month'] and ' next-month' or '') +
			  (day['today'] and ' today' or '') +
			  (day['events'] and ' has-events' or '')">
	<dl>
	  <dt tal:content="day/day">Day</dt>
	  <dd tal:condition="day/events"
	      tal:repeat="event day/events">
	    <a tal:attributes="href event/absolute_url"
	       tal:content="event/title">
	      Event
	    </a>
	    <span tal:condition="python: event.start.day == day['day']"
		  tal:content="python: event.start.time().strftime('%H:%M')">
	      00:00
	    </span>
	  </dd>
	</dl>
      </td>
    </tr>
  </tbody>
</table>

</div>
</body>
</html>
